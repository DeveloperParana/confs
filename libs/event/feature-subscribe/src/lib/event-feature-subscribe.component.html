<div>
  <form
    [formGroup]="form"
    class="flex flex-col flex-2 gap-32"
    (ngSubmit)="onSubmit(email)"
  >
    <h1>Conferência anual de e para pessoas desenvolvedoras</h1>

    <h3>Faça parte da comunidade neste evento</h3>

    <p>{{ subscribeFacade.message$ | async }}</p>

    <fieldset [ngClass]="{ hide: subscribeFacade.subscribed$ | async }">
      <legend>Que tal receber nossos releases a cada nova atração?</legend>
      <input
        #email
        type="email"
        id="emailAddress"
        formControlName="email"
        (blur)="changeFocus(email)"
        (focus)="changeFocus(email)"
        [placeholder]="placeholder.acompanhe"
      />
      <button type="submit" [disabled]="subscribeFacade.loading$ | async">
        enviar
      </button>
    </fieldset>

    <p>
      <small>
        Seu e-mail nunca será compartilhado ou vendido para terceiros e esta
        base será apagada no dia do evento, após ter cumprido seu propósito.
      </small>
    </p>
  </form>

  <section class="flex flex-col">
    <figure *ngIf="oAuthFacade.user$ | async as user">
      <confs-event-ticket [user]="user"></confs-event-ticket>
    </figure>

    <nav class="flex flex-col">
      <a confs-github-button [href]="oAuthFacade.authorize$ | async">
        Use seu github e monte seu convite
      </a>

      <p>
        <span class="highlight"> * </span>
        <strong>1° LOTE</strong> de ingressos a partir do dia 01/12/2022
        <span class="highlight"> * </span>
      </p>
      <a confs-twitter-button href="#">
      Compartilhe seu convite
      </a>
    </nav>
  </section>
</div>
